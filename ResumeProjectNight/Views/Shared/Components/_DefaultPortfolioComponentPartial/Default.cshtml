
@model List<ResumeProjectNight.Entities.Portfolio>

@functions {
	private static string ToSlug(string value)
	{
		if (string.IsNullOrWhiteSpace(value))
		{
			return "cat-unknown";
		}

		var chars = value.ToLowerInvariant()
			.Select(c => char.IsLetterOrDigit(c) ? c : '-')
			.ToArray();
		var slug = new string(chars).Trim('-');
		while (slug.Contains("--"))
		{
			slug = slug.Replace("--", "-");
		}
		return $"cat-{slug}";
	}
}

<section id="works">

	<div class="container">

		<!-- section title -->
		<h2 class="section-title wow fadeInUp">Projelerim</h2>

		<div class="spacer" data-height="60"></div>


		@await Component.InvokeAsync("_DefaultCategoryCompenentPartial")
		<!-- portolio wrapper -->
		<div class="row portfolio-wrapper">

			@foreach (var item in Model)
			{
				var categoryName = item.ProjectCategory?.CategoryName ?? "Unknown";
				var slug = ToSlug(categoryName);
				<!-- portfolio item -->
				<div class="col-md-4 col-sm-6 grid-item @slug">
					<a href="@item.ImageUrl" class="work-image">
					<div class="portfolio-item rounded shadow-dark">
						<div class="details">
							<span class="term">@categoryName</span>
							<h4 class="title">@item.ProjectTitle</h4>
							<span class="more-button"><i class="icon-magnifier-add"></i></span>
						</div>
						<div class="thumb">
							<img src="@item.ImageUrl" alt="@item.ProjectTitle" />
							<div class="mask"></div>
						</div>
					</div>
				</a>
			</div>
			}
		
		</div>

		<!-- more button -->
		<div class="load-more text-center mt-4">
			<a href="javascript:" class="btn btn-default"><i class="fas fa-spinner"></i> Load more</a>
			<!-- numbered pagination (hidden for infinite scroll) -->
			<ul class="portfolio-pagination list-inline d-none">
				<li class="list-inline-item">1</li>
				<li class="list-inline-item"><a href="works-2.html">2</a></li>
			</ul>
		</div>

	</div>

</section>